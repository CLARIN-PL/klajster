schema: '2.0'
stages:
  polemo2_preprocess_dataset:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py --ds polemo2
      --cfg-type lightning
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      hash: md5
      md5: 4893db92c0d2a10250df45c29824f9d4
      size: 1062
    params:
      experiments/configs/datasets/polemo2.yaml:
        common_args:
          dataset_name: clarin-pl/polemo2-official
          input_column_names: text
          target_column_name: target
          sample_missing_splits:
          sample_missing_splits_hps:
          downsample_splits:
          load_dataset_kwargs:
          seed: 441
          encode_labels: false
        datasets.lightning:
          pipeline_cls: embeddings.pipeline.hf_preprocessing_pipeline.HuggingFacePreprocessingPipeline
          pipeline_args:
            dataset_name: clarin-pl/polemo2-official
            sample_missing_splits:
            ignore_test_subset: false
            load_dataset_kwargs:
            seed: 441
            downsample_splits:
          output: data/datasets/polemo2/lightning/
    outs:
    - path: data/datasets/polemo2/lightning/
      hash: md5
      md5: 295f20ec28e53c7a5692a3a26e3aaae5.dir
      size: 6617538
      nfiles: 10
  polemo2_preprocess_dataset_hps:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py --ds polemo2
      --cfg-type lightning --is-hps
    deps:
    - path: data/datasets/polemo2/lightning
      hash: md5
      md5: 295f20ec28e53c7a5692a3a26e3aaae5.dir
      size: 6617538
      nfiles: 10
    - path: experiments/scripts/preprocess_dataset.py
      hash: md5
      md5: 4893db92c0d2a10250df45c29824f9d4
      size: 1062
    params:
      experiments/configs/datasets/polemo2.yaml:
        common_args:
          dataset_name: clarin-pl/polemo2-official
          input_column_names: text
          target_column_name: target
          sample_missing_splits:
          sample_missing_splits_hps:
          downsample_splits:
          load_dataset_kwargs:
          seed: 441
          encode_labels: false
        datasets.lightning_hps:
          pipeline_cls: embeddings.pipeline.hf_preprocessing_pipeline.HuggingFacePreprocessingPipeline
          pipeline_args:
            dataset_name: data/datasets/polemo2/lightning/
            sample_missing_splits:
            ignore_test_subset: true
            load_dataset_kwargs:
            seed: 441
          output: data/datasets/polemo2/lightning_hps/
    outs:
    - path: data/datasets/polemo2/lightning_hps/
      hash: md5
      md5: 810bcee110ea241813701ccc244e79fa.dir
      size: 5973458
      nfiles: 7
