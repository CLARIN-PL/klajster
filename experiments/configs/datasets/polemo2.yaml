name: polemo2

common_args:
    dataset_name: &dataset_name clarin-pl/polemo2-official
    input_column_names: &input_column_names text
    target_column_name: &target_column_name target
    sample_missing_splits: &sample_missing_splits null
    sample_missing_splits_hps: &sample_missing_splits_hps null
    downsample_splits: &downsample_splits null
    load_dataset_kwargs: &load_dataset_kwargs null
    seed: &seed 441
    encode_labels: &encode_labels False

paths:
    lightning:
        nvidia: &lightning_nvidia_ds_path data/datasets/polemo2/lightning_nvidia/
        amd: &lightning_amd_ds_path data/datasets/polemo2/lightning_amd/
    lightning_hps:
        nvidia: &lightning_nvidia_hps_ds_path data/datasets/polemo2/lightning_nvidia_hps/
        amd: &lightning_amd_hps_ds_path data/datasets/polemo2/lightning_amd_hps/

datasets:

    lightning_nvidia:
        pipeline_cls: embeddings.pipeline.hf_preprocessing_pipeline.HuggingFacePreprocessingPipeline
        pipeline_args:
            dataset_name: *dataset_name
            sample_missing_splits: *sample_missing_splits
            ignore_test_subset: False
            load_dataset_kwargs: *load_dataset_kwargs
            seed: *seed
            downsample_splits: *downsample_splits
        output: *lightning_nvidia_ds_path

    lightning_nvidia_hps:
        pipeline_cls: embeddings.pipeline.hf_preprocessing_pipeline.HuggingFacePreprocessingPipeline
        pipeline_args:
            dataset_name: *lightning_nvidia_ds_path
            sample_missing_splits:  *sample_missing_splits_hps
            ignore_test_subset: True
            load_dataset_kwargs: *load_dataset_kwargs
            seed: *seed
        output:  *lightning_nvidia_hps_ds_path

    lightning_amd:
        pipeline_cls: embeddings.pipeline.hf_preprocessing_pipeline.HuggingFacePreprocessingPipeline
        pipeline_args:
            dataset_name: *dataset_name
            sample_missing_splits: *sample_missing_splits
            ignore_test_subset: False
            load_dataset_kwargs: *load_dataset_kwargs
            seed: *seed
            downsample_splits: *downsample_splits
        output: *lightning_amd_ds_path

    lightning_amd_hps:
        pipeline_cls: embeddings.pipeline.hf_preprocessing_pipeline.HuggingFacePreprocessingPipeline
        pipeline_args:
            dataset_name: *lightning_amd_ds_path
            sample_missing_splits: *sample_missing_splits_hps
            ignore_test_subset: True
            load_dataset_kwargs: *load_dataset_kwargs
            seed: *seed
        output: *lightning_amd_hps_ds_path